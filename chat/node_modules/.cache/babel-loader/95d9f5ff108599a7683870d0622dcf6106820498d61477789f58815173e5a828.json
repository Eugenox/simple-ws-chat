{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[MessageList,setMessageList]=useState([]);// Список повідомлень\nconst[text,setText]=useState('');const[socket,setSocket]=useState(null);// Встановлення WebSocket-з'єднання при зантаженні сторінки\nuseEffect(()=>{const ws=new WebSocket('ws://localhost:8080');// Підключення до WebSocket-сервера\nsetSocket(ws);// Зберігаємо інстанс сокету\n// Обробка отриманих повідомлень\nws.onmessage=socket=>{const data=JSON.parse(socket.data);setMessageList(sendedMsg=>[...sendedMsg,data]);};},[]);// Відправка повідомлення\nconst sendMessage=()=>{if(!text.length>0)return;// Відхиляємо пусті повідомлення \nsocket.send(JSON.stringify({text}));// Відправляємо повідомлення через WebSocket\nsetText('');// Завершуємо відправку і очищаємо текст з поля\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SimpleChat\"}),/*#__PURE__*/_jsx(\"ul\",{children:MessageList.map((msg,i)=>/*#__PURE__*/_jsx(\"li\",{children:msg.text},i))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:text,onChange:e=>setText(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043F\\u043E\\u0432\\u0456\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"\\u0412\\u0456\\u0434\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0438\"})]});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","MessageList","setMessageList","text","setText","socket","setSocket","ws","WebSocket","onmessage","data","JSON","parse","sendedMsg","sendMessage","length","send","stringify","children","map","msg","i","type","value","onChange","e","target","placeholder","onClick"],"sources":["D:/projects/thrash/webchat/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\n\nexport default function App () {\n    const [MessageList, setMessageList] = useState([]) // Список повідомлень\n    const [text, setText] = useState('')\n    const [socket, setSocket] = useState(null)\n\n    // Встановлення WebSocket-з'єднання при зантаженні сторінки\n    useEffect(() => {\n        const ws = new WebSocket('ws://localhost:8080') // Підключення до WebSocket-сервера\n        setSocket(ws) // Зберігаємо інстанс сокету\n\n        // Обробка отриманих повідомлень\n        ws.onmessage = (socket) => {\n            \n            const data = JSON.parse(socket.data)\n            setMessageList((sendedMsg) => [...sendedMsg, data]) \n        }\n    }, [])\n\n    // Відправка повідомлення\n    const sendMessage = () => {\n      if (!text.length > 0) return // Відхиляємо пусті повідомлення \n        socket.send(JSON.stringify({text})) // Відправляємо повідомлення через WebSocket\n        setText('') // Завершуємо відправку і очищаємо текст з поля\n    }\n\n    return <div>\n            <h1>SimpleChat</h1>\n            {/* Відображення повідомлень */}\n            <ul>\n                {MessageList.map((msg, i) => ( <li key={i}>{msg.text}</li> ))}\n            </ul>\n\n            {/* Ввод користувача */}\n            <input\n                type=\"text\"\n                value={text}\n                onChange={(e) => setText(e.target.value)}\n                placeholder=\"Введіть повідомлення\"\n            />\n            <button onClick={sendMessage}>Відправити</button>\n    </div>\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAI,CAC3B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAAC;AACnD,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE1C;AACAC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,EAAE,CAAG,GAAI,CAAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;AAChDF,SAAS,CAACC,EAAE,CAAC,CAAC;AAEd;AACAA,EAAE,CAACE,SAAS,CAAIJ,MAAM,EAAK,CAEvB,KAAM,CAAAK,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACP,MAAM,CAACK,IAAI,CAAC,CACpCR,cAAc,CAAEW,SAAS,EAAK,CAAC,GAAGA,SAAS,CAAEH,IAAI,CAAC,CAAC,CACvD,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAI,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAI,CAACX,IAAI,CAACY,MAAM,CAAG,CAAC,CAAE,OAAO;AAC3BV,MAAM,CAACW,IAAI,CAACL,IAAI,CAACM,SAAS,CAAC,CAACd,IAAI,CAAC,CAAC,CAAC,CAAC;AACpCC,OAAO,CAAC,EAAE,CAAC,CAAC;AAChB,CAAC,CAED,mBAAOL,KAAA,QAAAmB,QAAA,eACCrB,IAAA,OAAAqB,QAAA,CAAI,YAAU,CAAI,CAAC,cAEnBrB,IAAA,OAAAqB,QAAA,CACKjB,WAAW,CAACkB,GAAG,CAAC,CAACC,GAAG,CAAEC,CAAC,gBAAOxB,IAAA,OAAAqB,QAAA,CAAaE,GAAG,CAACjB,IAAI,EAAZkB,CAAiB,CAAG,CAAC,CAC7D,CAAC,cAGLxB,IAAA,UACIyB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEpB,IAAK,CACZqB,QAAQ,CAAGC,CAAC,EAAKrB,OAAO,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCI,WAAW,CAAC,qHAAsB,CACrC,CAAC,cACF9B,IAAA,WAAQ+B,OAAO,CAAEd,WAAY,CAAAI,QAAA,CAAC,8DAAU,CAAQ,CAAC,EACpD,CAAC,CACV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}